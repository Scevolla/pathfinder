!function(t){function e(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){y.isWalkable(t,e)&&(m===b?l(t,e):m===g&&r(t,e))}function l(t,e){m=g,y.clear(),v.clear(),p={x:t,y:e},v.selectCell(t,e),w=null,k.textContent="Выберите клеточку финиша.",C.textContent="Старт: ("+t+", "+e+"). Финиш: не выбрано."}function r(t,e){if(p.x!==t||p.y!==e){m=x,w={x:t,y:e},v.selectCell(t,e);var s=y.getPath(p.x,p.y,w.x,w.y);s.length>0?(v.drawPath(s,n),k.textContent="Построение пути. Кликните по полю, чтоб ускорить построение.",C.textContent="Старт: ("+p.x+", "+p.y+"). Финиш: ("+t+", "+e+"). Длина пути: "+s.length+"."):(n(),C.textContent="Старт: ("+p.x+", "+p.y+"). Финиш: ("+t+", "+e+"). Путь не существует.")}}function n(){m=b,k.textContent="Выберите 2 пустые клеточки для нахождения пути между ними."}var o=s(3),h=i(o),c=s(1),d=i(c),u=s(2),f=i(u),v=void 0,y=void 0,p=void 0,w=void 0,k=void 0,C=void 0,b=0,g=1,x=2,m=b;document.addEventListener("DOMContentLoaded",function(){v=new d["default"](h["default"]),document.getElementById("root").appendChild(v.getRootElem()),v.addClickCallback(a),y=new f["default"](h["default"]),k=document.querySelector(".prompt"),C=document.querySelector(".status")})},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),a=function(){function t(e){s(this,t),this.rows=e.length,this.cols=e[0].length,this.cells=[],this.table=this.createTable(e),this.table.addEventListener("click",this.clickHandler.bind(this)),this.clickCallback=null,this.selectedCells=[],this.pathCells=[],this.isDrawing=!1}return i(t,[{key:"createTable",value:function(t){var e=document.createElement("table");e.className="field";var s=document.createElement("tbody");e.appendChild(s);for(var i=0;i<this.rows;++i){this.cells.push([]);var a=document.createElement("tr");s.appendChild(a);for(var l=0;l<this.cols;++l){var r=document.createElement("td");r.className=t[i][l]?"cell cell-wall":"cell",a.appendChild(r),this.cells[i].push(r)}}return this.blockingOverlay=document.createElement("tbody"),this.blockingOverlay.className="blocking-input-overlay",this.blockingOverlay.style.display="none",e.appendChild(this.blockingOverlay),e}},{key:"getRootElem",value:function(){return this.table}},{key:"addClickCallback",value:function(t){this.clickCallback=t}},{key:"clickHandler",value:function(t){if(this.isDrawing)return void(this.drawInterval=0);if("TD"===t.target.tagName){var e=this.getCoords(t.target);this.clickCallback&&this.clickCallback(e.x,e.y)}}},{key:"getCoords",value:function(t){return{x:t.cellIndex,y:t.parentElement.rowIndex}}},{key:"clear",value:function(){this.selectedCells.forEach(function(t){return t.className="cell"}),this.selectedCells=[],this.pathCells.forEach(function(t){return t.className="cell"}),this.pathCells=[]}},{key:"selectCell",value:function(t,e){this.cells[e][t].classList.add("cell-selected"),this.selectedCells.push(this.cells[e][t])}},{key:"drawPath",value:function(t,e){var s=this;t.forEach(function(t){var e=s.cells[t.y][t.x];e.classList.add("cell-path"),s.pathCells.push(e)}),this.isDrawing=!0,this.drawInterval=200,this.drawIndex=0,this.drawCallback=e,this.blockingOverlay.style.display="",this.drawPathArrows()}},{key:"drawPathArrows",value:function(){this.drawIndex===this.pathCells.length-1?this.drawFinishArrow(this.drawIndex):0===this.drawIndex?this.drawStartArrow():this.drawIntermediateArrow(this.drawIndex),this.drawIndex++,this.drawIndex===this.pathCells.length?(this.isDrawing=!1,this.blockingOverlay.style.display="none",this.drawCallback()):setTimeout(this.drawPathArrows.bind(this),this.drawInterval)}},{key:"drawStartArrow",value:function(){var t=this.getCoords(this.pathCells[0]),e=this.getCoords(this.pathCells[1]);t.x===e.x?this.pathCells[0].classList.add(t.y>e.y?"arrow-top":"arrow-bottom"):this.pathCells[0].classList.add(t.x>e.x?"arrow-left":"arrow-right")}},{key:"drawIntermediateArrow",value:function(t){var e=this.getCoords(this.pathCells[t]),s=this.getCoords(this.pathCells[t-1]),i=this.getCoords(this.pathCells[t+1]);e.x===s.x&&e.x===i.x?this.pathCells[t].classList.add(e.y<s.y?"arrow-top":"arrow-bottom"):e.y===s.y&&e.y===i.y?this.pathCells[t].classList.add(e.x<s.x?"arrow-left":"arrow-right"):e.x===s.x?e.y<s.y?this.pathCells[t].classList.add(e.x<i.x?"arrow-top-right":"arrow-top-left"):this.pathCells[t].classList.add(e.x<i.x?"arrow-bottom-right":"arrow-bottom-left"):e.y===s.y&&(e.x>s.x?this.pathCells[t].classList.add(e.y>i.y?"arrow-right-top":"arrow-right-bottom"):this.pathCells[t].classList.add(e.y>i.y?"arrow-left-top":"arrow-left-bottom"))}},{key:"drawFinishArrow",value:function(t){this.pathCells[t].classList.add("finish")}}]),t}();e["default"]=a},function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),a=function r(t,e,i,a,l){s(this,r),this.x=t,this.y=e,this.visited=i,this.isWalkable=a,this.prevNode=l},l=function(){function t(e){s(this,t),this.rows=e.length,this.cols=e[0].length,this.nodes=this.createNodes(e),this.checkList=[]}return i(t,[{key:"createNodes",value:function(t){for(var e=[],s=0;s<this.rows;++s){e.push([]);for(var i=0;i<this.cols;++i)e[s].push(new a(i,s,(!1),0===t[s][i],null))}return e}},{key:"clear",value:function(){for(var t=0;t<this.rows;++t)for(var e=0;e<this.cols;++e)this.nodes[t][e].visited=!1,this.nodes[t][e].prevNode=null;this.checkList=[]}},{key:"getPath",value:function(t,e,s,i){if(t===s&&e===i)return this.constructPath(this.nodes[e][t]);if(this.nodes[e][t].visited=!0,this.checkNeighbours(t,e),this.checkList.length>0){var a=this.checkList.shift();return this.getPath(a.x,a.y,s,i)}return[]}},{key:"checkNeighbours",value:function(t,e){this.canBeAddedToCheckList(t-1,e)&&this.addNeighbourToCheckList(t-1,e,this.nodes[e][t]),this.canBeAddedToCheckList(t+1,e)&&this.addNeighbourToCheckList(t+1,e,this.nodes[e][t]),this.canBeAddedToCheckList(t,e-1)&&this.addNeighbourToCheckList(t,e-1,this.nodes[e][t]),this.canBeAddedToCheckList(t,e+1)&&this.addNeighbourToCheckList(t,e+1,this.nodes[e][t])}},{key:"addNeighbourToCheckList",value:function(t,e,s){this.nodes[e][t].prevNode=s,this.checkList.push(this.nodes[e][t])}},{key:"canBeAddedToCheckList",value:function(t,e){return this.isInField(t,e)&&!this.nodes[e][t].visited&&this.nodes[e][t].isWalkable}},{key:"isInField",value:function(t,e){return t>=0&&e>=0&&t<this.cols&&e<this.rows}},{key:"isWalkable",value:function(t,e){return this.nodes[e][t].isWalkable}},{key:"constructPath",value:function(t){var e=[];do e.push({x:t.x,y:t.y}),t=t.prevNode;while(null!==t);return e.reverse(),e}}]),t}();e["default"]=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=[[0,0,0,1,0,0,1,0,0,0],[0,1,0,1,0,1,0,0,1,0],[0,1,0,0,0,1,0,1,1,0],[1,0,0,1,1,0,0,1,0,0],[0,1,0,0,0,1,0,0,0,0],[0,1,0,1,0,0,0,1,1,1],[0,0,0,1,0,1,1,1,0,0],[1,1,0,0,0,1,0,0,0,0],[0,0,0,1,0,1,0,1,1,1],[0,1,0,0,0,0,0,1,0,0]];e["default"]=s}]);